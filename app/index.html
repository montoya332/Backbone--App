<!doctype html>
<html class="no-js" lang="">
<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <title>Testing</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
  <!--Import Google Icon Font-->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Roboto+Mono&subset=greek,cyrillic" rel="stylesheet">
  <!-- build:css(.tmp) styles/main.css -->
  <link rel="stylesheet" href="styles/main.css">
  <!-- endbuild -->
</head>
<body>
<!--[if lt IE 10]>
<p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
<![endif]-->
<nav class="teal" role="navigation">
  <div class="nav-wrapper container">
    <a id="logo-container" href="#" class="brand-logo white-text">Release Day Starter Pack</a>
    <ul class="right hide-on-med-and-down">
      <li><a class="white-text" href="#">Vote</a></li>
      <li><a class="white-text" href="#">Orders</a></li>
      <li><a class="white-text" href="#">History</a></li>
    </ul>

    <ul id="nav-mobile" class="side-nav">
      <li><a class="white-text" href="#">Vote</a></li>
      <li><a class="white-text" href="#">Orders</a></li>
      <li><a class="white-text" href="#">History</a></li>
    </ul>
    <a href="#" data-activates="nav-mobile" class="button-collapse"><i class="material-icons">menu</i></a>
  </div>
</nav>

<div id="main-container" class="container"></div>

<!-- build:js scripts/vendor.js -->
<script src="bower_components/jquery/dist/jquery.js"></script>
<script src="bower_components/lodash/dist/lodash.compat.js"></script>
<script src="bower_components/backbone/backbone.js"></script>
<!-- endbuild -->
<script src="bower_components/Materialize/dist/js/materialize.js"></script>
<!-- build:js scripts/plugins.js -->

<!-- build:js({.tmp,app}) scripts/main.js -->
<script src="scripts/main.js"></script>
<script src="scripts/templates.js"></script>
<script src="scripts/routes/Restaurant_Routes.js"></script>
<script src="scripts/models/Restaurant.js"></script>
<script src="scripts/collections/RestaurantCollection.js"></script>
<script src="scripts/views/RestaurantView.js"></script>
<!-- endbuild -->

<!-- Google Map: change YOUR_API_KEY to be your Api Key. -->
<script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places&callback=initMap" async defer></script>

<script>

  var map;
  var infowindow;

  function initMap() {
    var pyrmont = {lat: 37.790644, lng: -122.405627 };

    map = new google.maps.Map(document.getElementById('map'), {
      center: pyrmont,
      zoom: 16
    });

    infowindow = new google.maps.InfoWindow();
    var service = new google.maps.places.PlacesService(map);
    service.nearbySearch({
      location: pyrmont,
      radius: 500,
        type: ['meal_delivery'] //, 'meal_takeaway'
      }, callback );
  }

  function callback(results, status) {
    if (status === google.maps.places.PlacesServiceStatus.OK) {
      for (var i = 0; i < results.length; i++) {
        createMarker(results[i]);
      }
    }
  }

  function createMarker(place) {
    var placeLoc = place.geometry.location;
    var marker = new google.maps.Marker({
      map: map,
      position: place.geometry.location
    });

    google.maps.event.addListener(marker, 'click', function() {
      infowindow.setContent(place.name);
      infowindow.open(map, this);
    });
  }

</script>

</body>
</html>
